---
description: Rill Project Structure
globs: ["rill.yaml", "sources/**", "models/**", "metrics/**", "dashboards/**", "connectors/**", "apis/**", "alerts/**"]
alwaysApply: false
---

# Rill Project Structure

Rill is an open-source tool for building metrics layers and dashboards. This guide outlines the standard project structure and organization patterns.

## Standard Layout

Rill projects organize resources by type:

```
rill.yaml          # Project configuration
.env               # Local secrets (git-ignored)
.gitignore         # Git ignore rules
sources/           # Data source connections
models/            # SQL transformations
metrics/           # Metrics views (semantic layer)
dashboards/        # Dashboard definitions
connectors/        # External connector configs
apis/              # API definitions
alerts/            # Alert definitions
```

## File Organization

**Sources**: Connection definitions to external data
```
sources/
  orders_raw.yaml          # S3/database source
  events_raw.yaml
```

**Models**: SQL that transforms data
```
models/
  orders_daily.sql         # Daily aggregation
  customer_dim.sql         # Dimension table
  sales/                   # Domain grouping
    revenue_summary.sql
```

**Metrics**: Business metrics and dimensions
```
metrics/
  orders_metrics.yaml      # Matches orders_daily model
  customer_metrics.yaml
```

## Complete Example

Typical e-commerce analytics project:

```
rill.yaml
.env
sources/
  transactions_raw.yaml
  customers_raw.yaml
models/
  transactions_daily.sql
  customer_dim.sql
metrics/
  transactions_metrics.yaml
  customer_metrics.yaml
dashboards/
  sales_overview.yaml
connectors/
  snowflake.yaml
```

**File naming**: Match metrics to their source model
- `models/orders_daily.sql` → `metrics/orders_metrics.yaml`
- `models/user_events.sql` → `metrics/user_events_metrics.yaml`

## Domain Organization

For larger projects, group by domain:

```
models/
  sales/
    README.md              # Domain context
    orders_daily.sql
    revenue_summary.sql
  marketing/
    campaign_performance.sql
    attribution.sql
```
