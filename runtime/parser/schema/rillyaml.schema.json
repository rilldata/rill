{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "rill.schema.json",
    "title": "Rill yaml schema",
    "type": "object",
    "properties": {
      "compiler": { "type": "string" },
      "rill_version": {},
      "display_name": { "type": "string" },
      "description": { "type": "string" },
      "olap_connector": { "type": "string" },
      "connectors": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "type": { "type": "string" },
            "name": { "type": "string" },
            "defaults": {
              "type": "object"
            }
          },
          "required": ["type", "name"],
          "additionalProperties": false
        }
      },
      "env": {
        "type": "object"
      },
      "environment_overrides": {
        "type": "object"
      },
      "dev": { "type": "object" },
      "prod": { "type": "object" },
  
      "models": {
        "$ref": "model.schema.json"
      },
      "metrics_views": {
        "$ref": "metrics_view.schema.json"
      },
      "explores": {
        "$ref": "explore.schema.json"
      },
      "migrations": {
        "$ref": "migration.schema.json"
      },
  
      "features": {
        "oneOf": [
          {
            "type": "object",
            "additionalProperties": { "type": "boolean" }
          },
          {
            "type": "array",
            "items": { "type": "string" }
          }
        ]
      },
      "public_paths": {
        "type": "array",
        "items": { "type": "string" }
      },
      "ignore_paths": {
        "type": "array",
        "items": { "type": "string" }
      },
      "mock_users": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "email": { "type": "string" },
            "name": { "type": "string" },
            "admin": { "type": "boolean" },
            "groups": {
              "type": "array",
              "items": { "type": "string" }
            }
          }
        }
      }
    }
  }
  