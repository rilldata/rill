// Code generated by protoc-gen-connect-go. DO NOT EDIT.
//
// Source: rill/runtime/v1/connectors.proto

package runtimev1connect

import (
	connect "connectrpc.com/connect"
	context "context"
	errors "errors"
	v1 "github.com/rilldata/rill/proto/gen/rill/runtime/v1"
	http "net/http"
	strings "strings"
)

// This is a compile-time assertion to ensure that this generated file and the connect package are
// compatible. If you get a compiler error that this constant is not defined, this code was
// generated with a version of connect newer than the one compiled into your binary. You can fix the
// problem by either regenerating this code with an older version of connect or updating the connect
// version compiled into your binary.
const _ = connect.IsAtLeastVersion1_13_0

const (
	// ConnectorServiceName is the fully-qualified name of the ConnectorService service.
	ConnectorServiceName = "rill.runtime.v1.ConnectorService"
)

// These constants are the fully-qualified names of the RPCs defined in this package. They're
// exposed at runtime as Spec.Procedure and as the final two segments of the HTTP route.
//
// Note that these are different from the fully-qualified method names used by
// google.golang.org/protobuf/reflect/protoreflect. To convert from these constants to
// reflection-formatted method names, remove the leading slash and convert the remaining slash to a
// period.
const (
	// ConnectorServiceListBucketsProcedure is the fully-qualified name of the ConnectorService's
	// ListBuckets RPC.
	ConnectorServiceListBucketsProcedure = "/rill.runtime.v1.ConnectorService/ListBuckets"
	// ConnectorServiceListObjectsProcedure is the fully-qualified name of the ConnectorService's
	// ListObjects RPC.
	ConnectorServiceListObjectsProcedure = "/rill.runtime.v1.ConnectorService/ListObjects"
	// ConnectorServiceOLAPListTablesProcedure is the fully-qualified name of the ConnectorService's
	// OLAPListTables RPC.
	ConnectorServiceOLAPListTablesProcedure = "/rill.runtime.v1.ConnectorService/OLAPListTables"
	// ConnectorServiceOLAPGetTableProcedure is the fully-qualified name of the ConnectorService's
	// OLAPGetTable RPC.
	ConnectorServiceOLAPGetTableProcedure = "/rill.runtime.v1.ConnectorService/OLAPGetTable"
	// ConnectorServiceListDatabaseSchemasProcedure is the fully-qualified name of the
	// ConnectorService's ListDatabaseSchemas RPC.
	ConnectorServiceListDatabaseSchemasProcedure = "/rill.runtime.v1.ConnectorService/ListDatabaseSchemas"
	// ConnectorServiceListTablesProcedure is the fully-qualified name of the ConnectorService's
	// ListTables RPC.
	ConnectorServiceListTablesProcedure = "/rill.runtime.v1.ConnectorService/ListTables"
	// ConnectorServiceGetTableProcedure is the fully-qualified name of the ConnectorService's GetTable
	// RPC.
	ConnectorServiceGetTableProcedure = "/rill.runtime.v1.ConnectorService/GetTable"
)

// These variables are the protoreflect.Descriptor objects for the RPCs defined in this package.
var (
	connectorServiceServiceDescriptor                   = v1.File_rill_runtime_v1_connectors_proto.Services().ByName("ConnectorService")
	connectorServiceListBucketsMethodDescriptor         = connectorServiceServiceDescriptor.Methods().ByName("ListBuckets")
	connectorServiceListObjectsMethodDescriptor         = connectorServiceServiceDescriptor.Methods().ByName("ListObjects")
	connectorServiceOLAPListTablesMethodDescriptor      = connectorServiceServiceDescriptor.Methods().ByName("OLAPListTables")
	connectorServiceOLAPGetTableMethodDescriptor        = connectorServiceServiceDescriptor.Methods().ByName("OLAPGetTable")
	connectorServiceListDatabaseSchemasMethodDescriptor = connectorServiceServiceDescriptor.Methods().ByName("ListDatabaseSchemas")
	connectorServiceListTablesMethodDescriptor          = connectorServiceServiceDescriptor.Methods().ByName("ListTables")
	connectorServiceGetTableMethodDescriptor            = connectorServiceServiceDescriptor.Methods().ByName("GetTable")
)

// ConnectorServiceClient is a client for the rill.runtime.v1.ConnectorService service.
type ConnectorServiceClient interface {
	// ListBuckets lists buckets accessible with the configured credentials.
	ListBuckets(context.Context, *connect.Request[v1.ListBucketsRequest]) (*connect.Response[v1.ListBucketsResponse], error)
	// ListObjects lists objects for the given bucket.
	ListObjects(context.Context, *connect.Request[v1.ListObjectsRequest]) (*connect.Response[v1.ListObjectsResponse], error)
	// OLAPListTables list all tables across all databases in an OLAP
	OLAPListTables(context.Context, *connect.Request[v1.OLAPListTablesRequest]) (*connect.Response[v1.OLAPListTablesResponse], error)
	// OLAPGetTable returns metadata about a table or view in an OLAP
	OLAPGetTable(context.Context, *connect.Request[v1.OLAPGetTableRequest]) (*connect.Response[v1.OLAPGetTableResponse], error)
	// ListDatabaseSchemas list all schemas across databases
	ListDatabaseSchemas(context.Context, *connect.Request[v1.ListDatabaseSchemasRequest]) (*connect.Response[v1.ListDatabaseSchemasResponse], error)
	// ListTables list all tables for database and database_schema provided
	ListTables(context.Context, *connect.Request[v1.ListTablesRequest]) (*connect.Response[v1.ListTablesResponse], error)
	// GetTable returns metadata about a table or view
	GetTable(context.Context, *connect.Request[v1.GetTableRequest]) (*connect.Response[v1.GetTableResponse], error)
}

// NewConnectorServiceClient constructs a client for the rill.runtime.v1.ConnectorService service.
// By default, it uses the Connect protocol with the binary Protobuf Codec, asks for gzipped
// responses, and sends uncompressed requests. To use the gRPC or gRPC-Web protocols, supply the
// connect.WithGRPC() or connect.WithGRPCWeb() options.
//
// The URL supplied here should be the base URL for the Connect or gRPC server (for example,
// http://api.acme.com or https://acme.com/grpc).
func NewConnectorServiceClient(httpClient connect.HTTPClient, baseURL string, opts ...connect.ClientOption) ConnectorServiceClient {
	baseURL = strings.TrimRight(baseURL, "/")
	return &connectorServiceClient{
		listBuckets: connect.NewClient[v1.ListBucketsRequest, v1.ListBucketsResponse](
			httpClient,
			baseURL+ConnectorServiceListBucketsProcedure,
			connect.WithSchema(connectorServiceListBucketsMethodDescriptor),
			connect.WithClientOptions(opts...),
		),
		listObjects: connect.NewClient[v1.ListObjectsRequest, v1.ListObjectsResponse](
			httpClient,
			baseURL+ConnectorServiceListObjectsProcedure,
			connect.WithSchema(connectorServiceListObjectsMethodDescriptor),
			connect.WithClientOptions(opts...),
		),
		oLAPListTables: connect.NewClient[v1.OLAPListTablesRequest, v1.OLAPListTablesResponse](
			httpClient,
			baseURL+ConnectorServiceOLAPListTablesProcedure,
			connect.WithSchema(connectorServiceOLAPListTablesMethodDescriptor),
			connect.WithClientOptions(opts...),
		),
		oLAPGetTable: connect.NewClient[v1.OLAPGetTableRequest, v1.OLAPGetTableResponse](
			httpClient,
			baseURL+ConnectorServiceOLAPGetTableProcedure,
			connect.WithSchema(connectorServiceOLAPGetTableMethodDescriptor),
			connect.WithClientOptions(opts...),
		),
		listDatabaseSchemas: connect.NewClient[v1.ListDatabaseSchemasRequest, v1.ListDatabaseSchemasResponse](
			httpClient,
			baseURL+ConnectorServiceListDatabaseSchemasProcedure,
			connect.WithSchema(connectorServiceListDatabaseSchemasMethodDescriptor),
			connect.WithClientOptions(opts...),
		),
		listTables: connect.NewClient[v1.ListTablesRequest, v1.ListTablesResponse](
			httpClient,
			baseURL+ConnectorServiceListTablesProcedure,
			connect.WithSchema(connectorServiceListTablesMethodDescriptor),
			connect.WithClientOptions(opts...),
		),
		getTable: connect.NewClient[v1.GetTableRequest, v1.GetTableResponse](
			httpClient,
			baseURL+ConnectorServiceGetTableProcedure,
			connect.WithSchema(connectorServiceGetTableMethodDescriptor),
			connect.WithClientOptions(opts...),
		),
	}
}

// connectorServiceClient implements ConnectorServiceClient.
type connectorServiceClient struct {
	listBuckets         *connect.Client[v1.ListBucketsRequest, v1.ListBucketsResponse]
	listObjects         *connect.Client[v1.ListObjectsRequest, v1.ListObjectsResponse]
	oLAPListTables      *connect.Client[v1.OLAPListTablesRequest, v1.OLAPListTablesResponse]
	oLAPGetTable        *connect.Client[v1.OLAPGetTableRequest, v1.OLAPGetTableResponse]
	listDatabaseSchemas *connect.Client[v1.ListDatabaseSchemasRequest, v1.ListDatabaseSchemasResponse]
	listTables          *connect.Client[v1.ListTablesRequest, v1.ListTablesResponse]
	getTable            *connect.Client[v1.GetTableRequest, v1.GetTableResponse]
}

// ListBuckets calls rill.runtime.v1.ConnectorService.ListBuckets.
func (c *connectorServiceClient) ListBuckets(ctx context.Context, req *connect.Request[v1.ListBucketsRequest]) (*connect.Response[v1.ListBucketsResponse], error) {
	return c.listBuckets.CallUnary(ctx, req)
}

// ListObjects calls rill.runtime.v1.ConnectorService.ListObjects.
func (c *connectorServiceClient) ListObjects(ctx context.Context, req *connect.Request[v1.ListObjectsRequest]) (*connect.Response[v1.ListObjectsResponse], error) {
	return c.listObjects.CallUnary(ctx, req)
}

// OLAPListTables calls rill.runtime.v1.ConnectorService.OLAPListTables.
func (c *connectorServiceClient) OLAPListTables(ctx context.Context, req *connect.Request[v1.OLAPListTablesRequest]) (*connect.Response[v1.OLAPListTablesResponse], error) {
	return c.oLAPListTables.CallUnary(ctx, req)
}

// OLAPGetTable calls rill.runtime.v1.ConnectorService.OLAPGetTable.
func (c *connectorServiceClient) OLAPGetTable(ctx context.Context, req *connect.Request[v1.OLAPGetTableRequest]) (*connect.Response[v1.OLAPGetTableResponse], error) {
	return c.oLAPGetTable.CallUnary(ctx, req)
}

// ListDatabaseSchemas calls rill.runtime.v1.ConnectorService.ListDatabaseSchemas.
func (c *connectorServiceClient) ListDatabaseSchemas(ctx context.Context, req *connect.Request[v1.ListDatabaseSchemasRequest]) (*connect.Response[v1.ListDatabaseSchemasResponse], error) {
	return c.listDatabaseSchemas.CallUnary(ctx, req)
}

// ListTables calls rill.runtime.v1.ConnectorService.ListTables.
func (c *connectorServiceClient) ListTables(ctx context.Context, req *connect.Request[v1.ListTablesRequest]) (*connect.Response[v1.ListTablesResponse], error) {
	return c.listTables.CallUnary(ctx, req)
}

// GetTable calls rill.runtime.v1.ConnectorService.GetTable.
func (c *connectorServiceClient) GetTable(ctx context.Context, req *connect.Request[v1.GetTableRequest]) (*connect.Response[v1.GetTableResponse], error) {
	return c.getTable.CallUnary(ctx, req)
}

// ConnectorServiceHandler is an implementation of the rill.runtime.v1.ConnectorService service.
type ConnectorServiceHandler interface {
	// ListBuckets lists buckets accessible with the configured credentials.
	ListBuckets(context.Context, *connect.Request[v1.ListBucketsRequest]) (*connect.Response[v1.ListBucketsResponse], error)
	// ListObjects lists objects for the given bucket.
	ListObjects(context.Context, *connect.Request[v1.ListObjectsRequest]) (*connect.Response[v1.ListObjectsResponse], error)
	// OLAPListTables list all tables across all databases in an OLAP
	OLAPListTables(context.Context, *connect.Request[v1.OLAPListTablesRequest]) (*connect.Response[v1.OLAPListTablesResponse], error)
	// OLAPGetTable returns metadata about a table or view in an OLAP
	OLAPGetTable(context.Context, *connect.Request[v1.OLAPGetTableRequest]) (*connect.Response[v1.OLAPGetTableResponse], error)
	// ListDatabaseSchemas list all schemas across databases
	ListDatabaseSchemas(context.Context, *connect.Request[v1.ListDatabaseSchemasRequest]) (*connect.Response[v1.ListDatabaseSchemasResponse], error)
	// ListTables list all tables for database and database_schema provided
	ListTables(context.Context, *connect.Request[v1.ListTablesRequest]) (*connect.Response[v1.ListTablesResponse], error)
	// GetTable returns metadata about a table or view
	GetTable(context.Context, *connect.Request[v1.GetTableRequest]) (*connect.Response[v1.GetTableResponse], error)
}

// NewConnectorServiceHandler builds an HTTP handler from the service implementation. It returns the
// path on which to mount the handler and the handler itself.
//
// By default, handlers support the Connect, gRPC, and gRPC-Web protocols with the binary Protobuf
// and JSON codecs. They also support gzip compression.
func NewConnectorServiceHandler(svc ConnectorServiceHandler, opts ...connect.HandlerOption) (string, http.Handler) {
	connectorServiceListBucketsHandler := connect.NewUnaryHandler(
		ConnectorServiceListBucketsProcedure,
		svc.ListBuckets,
		connect.WithSchema(connectorServiceListBucketsMethodDescriptor),
		connect.WithHandlerOptions(opts...),
	)
	connectorServiceListObjectsHandler := connect.NewUnaryHandler(
		ConnectorServiceListObjectsProcedure,
		svc.ListObjects,
		connect.WithSchema(connectorServiceListObjectsMethodDescriptor),
		connect.WithHandlerOptions(opts...),
	)
	connectorServiceOLAPListTablesHandler := connect.NewUnaryHandler(
		ConnectorServiceOLAPListTablesProcedure,
		svc.OLAPListTables,
		connect.WithSchema(connectorServiceOLAPListTablesMethodDescriptor),
		connect.WithHandlerOptions(opts...),
	)
	connectorServiceOLAPGetTableHandler := connect.NewUnaryHandler(
		ConnectorServiceOLAPGetTableProcedure,
		svc.OLAPGetTable,
		connect.WithSchema(connectorServiceOLAPGetTableMethodDescriptor),
		connect.WithHandlerOptions(opts...),
	)
	connectorServiceListDatabaseSchemasHandler := connect.NewUnaryHandler(
		ConnectorServiceListDatabaseSchemasProcedure,
		svc.ListDatabaseSchemas,
		connect.WithSchema(connectorServiceListDatabaseSchemasMethodDescriptor),
		connect.WithHandlerOptions(opts...),
	)
	connectorServiceListTablesHandler := connect.NewUnaryHandler(
		ConnectorServiceListTablesProcedure,
		svc.ListTables,
		connect.WithSchema(connectorServiceListTablesMethodDescriptor),
		connect.WithHandlerOptions(opts...),
	)
	connectorServiceGetTableHandler := connect.NewUnaryHandler(
		ConnectorServiceGetTableProcedure,
		svc.GetTable,
		connect.WithSchema(connectorServiceGetTableMethodDescriptor),
		connect.WithHandlerOptions(opts...),
	)
	return "/rill.runtime.v1.ConnectorService/", http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		switch r.URL.Path {
		case ConnectorServiceListBucketsProcedure:
			connectorServiceListBucketsHandler.ServeHTTP(w, r)
		case ConnectorServiceListObjectsProcedure:
			connectorServiceListObjectsHandler.ServeHTTP(w, r)
		case ConnectorServiceOLAPListTablesProcedure:
			connectorServiceOLAPListTablesHandler.ServeHTTP(w, r)
		case ConnectorServiceOLAPGetTableProcedure:
			connectorServiceOLAPGetTableHandler.ServeHTTP(w, r)
		case ConnectorServiceListDatabaseSchemasProcedure:
			connectorServiceListDatabaseSchemasHandler.ServeHTTP(w, r)
		case ConnectorServiceListTablesProcedure:
			connectorServiceListTablesHandler.ServeHTTP(w, r)
		case ConnectorServiceGetTableProcedure:
			connectorServiceGetTableHandler.ServeHTTP(w, r)
		default:
			http.NotFound(w, r)
		}
	})
}

// UnimplementedConnectorServiceHandler returns CodeUnimplemented from all methods.
type UnimplementedConnectorServiceHandler struct{}

func (UnimplementedConnectorServiceHandler) ListBuckets(context.Context, *connect.Request[v1.ListBucketsRequest]) (*connect.Response[v1.ListBucketsResponse], error) {
	return nil, connect.NewError(connect.CodeUnimplemented, errors.New("rill.runtime.v1.ConnectorService.ListBuckets is not implemented"))
}

func (UnimplementedConnectorServiceHandler) ListObjects(context.Context, *connect.Request[v1.ListObjectsRequest]) (*connect.Response[v1.ListObjectsResponse], error) {
	return nil, connect.NewError(connect.CodeUnimplemented, errors.New("rill.runtime.v1.ConnectorService.ListObjects is not implemented"))
}

func (UnimplementedConnectorServiceHandler) OLAPListTables(context.Context, *connect.Request[v1.OLAPListTablesRequest]) (*connect.Response[v1.OLAPListTablesResponse], error) {
	return nil, connect.NewError(connect.CodeUnimplemented, errors.New("rill.runtime.v1.ConnectorService.OLAPListTables is not implemented"))
}

func (UnimplementedConnectorServiceHandler) OLAPGetTable(context.Context, *connect.Request[v1.OLAPGetTableRequest]) (*connect.Response[v1.OLAPGetTableResponse], error) {
	return nil, connect.NewError(connect.CodeUnimplemented, errors.New("rill.runtime.v1.ConnectorService.OLAPGetTable is not implemented"))
}

func (UnimplementedConnectorServiceHandler) ListDatabaseSchemas(context.Context, *connect.Request[v1.ListDatabaseSchemasRequest]) (*connect.Response[v1.ListDatabaseSchemasResponse], error) {
	return nil, connect.NewError(connect.CodeUnimplemented, errors.New("rill.runtime.v1.ConnectorService.ListDatabaseSchemas is not implemented"))
}

func (UnimplementedConnectorServiceHandler) ListTables(context.Context, *connect.Request[v1.ListTablesRequest]) (*connect.Response[v1.ListTablesResponse], error) {
	return nil, connect.NewError(connect.CodeUnimplemented, errors.New("rill.runtime.v1.ConnectorService.ListTables is not implemented"))
}

func (UnimplementedConnectorServiceHandler) GetTable(context.Context, *connect.Request[v1.GetTableRequest]) (*connect.Response[v1.GetTableResponse], error) {
	return nil, connect.NewError(connect.CodeUnimplemented, errors.New("rill.runtime.v1.ConnectorService.GetTable is not implemented"))
}
